<!DOCTYPE html>
<html lang="es">
  <head>
    <title>Database Version Control - Using backups</title>
    <link href="/css/bootstrap.css" rel="stylesheet">
    <link href="/css/site.css" rel="stylesheet">
  </head>
  <body>
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container"><a data-toggle="collapse" data-target=".nav-collapse" class="btn btn-navbar"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a><a href="/#" class="brand">machadogj</a>
          <ul class="nav">
            <li class=""><a href="/#">Home</a></li>
            <li class=""><a href="/about.html">About</a></li>
          </ul>
          <ul class="nav pull-right">
            <li>
              <form action="/search.html" method="get" class="navbar-search pull-left">
                <input name="q" type="text" placeholder="Search" class="search-query">
              </form>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <article class="span8">
          <header>
            <h1>Database Version Control - Using backups</h1>
            <div>
              <address class="author">by<span> machadogj</span><br>on 
                <time datetime="2009-09-23T10:38" pubdate>23.09.2009 10:38</time>
              </address>
            </div>
          </header>
          <div class="content"><p>In this post I will describe probably the easiest one of the database version control schemes, which uses backups in order to keep the different versions of the database along with the code.</p>
<h2>Workflow</h2>
<p>When making a change to a database, you need to follow these steps:</p>
<ol>
<li>Get the latest backup from the source control.</li>
<li>Restore the database.</li>
<li>Apply the changes.</li>
<li>Update the version of the database in a “Version” table. (this step is optional but recommended)</li>
<li>Perform a backup.</li>
<li>Commit the new backup overriding the previous file.</li>
</ol>
<p>The “Version” table to which I made reference in step 4, it’s a table that keeps either the history of the different versions, or the current version of the database in one record. In case you want to have the history of the changes made, you could have columns such as: version, date created, created by and description.</p>
<p>Note: In case you are using an ORM framework for your data access, then you should include the tasks necessary to update the ORM code in order to commit <strong>everything together</strong>.</p>
<h2>Advantages</h2>
<ul>
<li>Easy. It is pretty straight forward and very easy to use and learn.</li>
<li>Easy to automate. In most database engines you can perform backups and restores from a command line, making this process even more easy and automated.</li>
</ul>
<h2>Disadvantages</h2>
<ul>
<li>Clean ups in every update. Because you have to perform a restore you will lose all the data (testing data probably) every time you want to update your database.</li>
<li>If somebody updated the database while you were making a change yourself, then you will have to merge the two databases.</li>
<li>Data migration problems. This is a common problem to most database versioning mechanisms. It can happen in two different situations, first developers merging their databases with the latest version may require migrating data from one table to another in order not to lose what they have locally. Second it will most likely happen upon every Release.</li>
</ul></div>
        </article>
        <div class="span4">
          <div class="well sidebar-nav">
            <ul class="nav nav-list">
              <li class="nav-header">Latest Posts</li>
              <li><a href="/2012/4/stylus-a-better-css.html">Stylus, a better CSS</a></li>
              <li><a href="/2012/4/getting-started-with-express-for-node-js.html">Getting started with Express for node.js</a></li>
              <li><a href="/2012/4/getting-started-with-node-js.html">Getting started with node.js</a></li>
              <li><a href="/2012/0/unit-testing-and-test-driven-development-lessons-learned.html">Unit Testing and Test Driven Development (Lessons Learned)</a></li>
              <li><a href="/2011/9/unit-testing-wit-knockout-js-with-tdd.html">Unit Testing with Knockout.js</a></li>
              <li><a href="/archive.html">See more >></a></li>
            </ul>
          </div>
        </div>
      </div>
      <hr>copyright 2012 <a href="http://machadogj.com">machadogj.com</a> by <a href="http://twitter.com/machadogj">@machadogj</a><br><br>
    </div>
    <script src="/js/bootstrap.js"></script>
  </body>
</html>