<!DOCTYPE html>
<html lang="es">
  <head>
    <title>ServiceResult class</title>
    <link href="/css/bootstrap.css" rel="stylesheet">
    <link href="/css/site.css" rel="stylesheet">
  </head>
  <body>
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container"><a data-toggle="collapse" data-target=".nav-collapse" class="btn btn-navbar"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a><a href="/#" class="brand">machadogj</a>
          <ul class="nav">
            <li class=""><a href="/#">Home</a></li>
            <li class=""><a href="/about.html">About</a></li>
          </ul>
          <ul class="nav pull-right">
            <li>
              <form action="/search.html" method="get" class="navbar-search pull-left">
                <input name="q" type="text" placeholder="Search" class="search-query">
              </form>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <article class="span8">
          <header>
            <h1>ServiceResult class</h1>
            <div>
              <address class="author">by<span> machadogj</span><br>on 
                <time datetime="2009-11-25T21:45" pubdate>25.11.2009 21:45</time>
              </address>
            </div>
          </header>
          <div class="content">The ServiceResult class is a very simple class that I found useful in certain cases where I need to make a call to a method that performs different actions or validations. I have used it in webservices when a collection of items to operate are passed to a webmethod, and a result has to be returned summarizing the errors and warnings. And I have used it as well in Service calls where complex operations are made. It can also serve as a base class for a "workflow pipeline" framework such as the approach used in the ORM nettiers (see this for further information). The code:
<blockquote>
<pre> public class ServiceResult { #region private members private List&lt;string&gt; _errors = new List&lt;string&gt;(); private List&lt;string&gt; _warnings = new List&lt;string&gt;(); private string _errorsHeader = "The following errors were encountered:"; #endregion #region properties /// &lt;summary&gt; /// This string will appear in the header of the errors list. /// &lt;/summary&gt; public string ErrorsHeader { get { return _errorsHeader; } set { _errorsHeader = value; } } public string[] Errors { get { return _errors.ToArray(); } } public string[] Warnings { get { return _warnings.ToArray(); } } public bool HasErros { get { return (_errors.Count &gt; 0); } } public bool HasWarnings { get { return (_warnings.Count &gt; 0); } } #endregion #region methods public void AddError(string error) { _errors.Add(error); } public void AddWarning(string warning) { _warnings.Add(warning); } public string GetFormattedErrors(bool includeHeader) { StringBuilder sb = new StringBuilder(); if (includeHeader) sb.AppendLine(ErrorsHeader); foreach (string error in Errors) { sb.AppendLine(error); } return sb.ToString(); } /// &lt;summary&gt; /// Takes the errors and warnings from another ServiceResults. /// Use this method to compose multiple ServiceResults into one. /// &lt;/summary&gt; /// &lt;param name="serviceResult"&gt;&lt;/param&gt; public void Compose(ServiceResult serviceResult) { foreach (string error in serviceResult.Errors) AddError(error); foreach (string warning in serviceResult.Warnings) AddWarning(warning); } #endregion }</pre>
</blockquote>
Then make a call to the method: ServiceResult fooResult = Foo(); Or make several calls and combine the results: ServiceResult theResult = new ServiceResult(); theResult.Compose(FooA()); theResult.Compose(FooB()); //Use the result. if (theResult.HasErrors) Console.Write(theResult.GetFormattedErrors(true));ï»¿</div>
        </article>
        <div class="span4">
          <div class="well sidebar-nav">
            <ul class="nav nav-list">
              <li class="nav-header">Latest Posts</li>
              <li><a href="/2012/4/stylus-a-better-css.html">Stylus, a better CSS</a></li>
              <li><a href="/2012/4/getting-started-with-express-for-node-js.html">Getting started with Express for node.js</a></li>
              <li><a href="/2012/4/getting-started-with-node-js.html">Getting started with node.js</a></li>
              <li><a href="/2012/0/unit-testing-and-test-driven-development-lessons-learned.html">Unit Testing and Test Driven Development (Lessons Learned)</a></li>
              <li><a href="/2011/9/unit-testing-wit-knockout-js-with-tdd.html">Unit Testing with Knockout.js</a></li>
              <li><a href="/archive.html">See more >></a></li>
            </ul>
          </div>
        </div>
      </div>
      <hr>copyright 2012 <a href="http://machadogj.com">machadogj.com</a> by <a href="http://twitter.com/machadogj">@machadogj</a><br><br>
    </div>
    <script src="/js/bootstrap.js"></script>
  </body>
</html>