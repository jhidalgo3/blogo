<!DOCTYPE html>
<html lang="es">
  <head>
    <title>SO-Aware - Life cycle of a service call</title>
    <link href="/css/bootstrap.css" rel="stylesheet">
    <link href="/css/site.css" rel="stylesheet">
  </head>
  <body>
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container"><a data-toggle="collapse" data-target=".nav-collapse" class="btn btn-navbar"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a><a href="/#" class="brand">machadogj</a>
          <ul class="nav">
            <li class=""><a href="/#">Home</a></li>
            <li class=""><a href="/about.html">About</a></li>
          </ul>
          <ul class="nav pull-right">
            <li>
              <form action="/search.html" method="get" class="navbar-search pull-left">
                <input name="q" type="text" placeholder="Search" class="search-query">
              </form>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <article class="span8">
          <header>
            <h1>SO-Aware - Life cycle of a service call</h1>
            <div>
              <address class="author">by<span> machadogj</span><br>on 
                <time datetime="2010-10-13T09:17" pubdate>13.10.2010 09:17</time>
              </address>
            </div>
          </header>
          <div class="content">In my previous post about <a href="/2010/10/12/so-aware-centralizing-wcf-configuration/">centralizing WCF configuration with SO-Aware</a>, I was asked about the life-cycle of a hypothetical CRUD application request. So in this post we will go through the different steps in a simple user request to this application. Roughly, the steps for a simple request are depicted in the following diagram. <a href="http://machadogj.com/wp-content/uploads/2010/10/so-aware-high-level-cycle.png"><img class="alignnone size-full wp-image-326" title="so-aware high level cycle" src="http://machadogj.com/wp-content/uploads/2010/10/so-aware-high-level-cycle.png" alt="" width="630" height="347" /></a> In our example, the box "MyService" represents the WCF Service for our CRUD application. However it can be any type of WCF Service (REST, SOAP or OData) with any type of operations. Here is the description step by step.
<ol> <li>First we have a user that fires a request to the CRUD website. This website acts as the client for our WCF service. So, as we discussed in our previous post, we can use the resolver shipped with SO-Aware SDK in order to look for the binding and the endpoint of our WCF service. Notice that even though this requires a webservice call, the resolver will cache the bindings and endpoints in memory, so it might be a good idea to keep your instance of the resolver statically.</li> <li>The resolver makes a call to the ServiceRepository.svc looking for the right binding and endpoint.</li> <li>The ServiceRepository service makes a network call to the SQL Server where the configuration is stored.</li> <li>With the binding and endpoint at hand, we can now create an instance of the service proxy. The proxy will let us invoke a service operation.</li> <li>If the service was not actively running yet, and the host was not instanciated, then the Service Host Factory provided by the SO-Aware toolkit will fetch the necessary configuration from the Service Repository in order to instanciate the Service Host. This config is only fetched once for as long as the service lives. With the service up and running we can now establish the connection with the client and serve the requests.</li>
</ol>
The interesting part of this cycle is that the WCF configuration was taken out of a centralized repository. This means that in the config files of the website and the web service, we donâ€™t really need to have the serviceModel section any more. Apart from the configuration, we could also take advantage of SO-Aware and monitor our service and even set up some tests to run periodically to make sure that our services are correctly integrated.</div>
        </article>
        <div class="span4">
          <div class="well sidebar-nav">
            <ul class="nav nav-list">
              <li class="nav-header">Latest Posts</li>
              <li><a href="/2012/4/stylus-a-better-css.html">Stylus, a better CSS</a></li>
              <li><a href="/2012/4/getting-started-with-express-for-node-js.html">Getting started with Express for node.js</a></li>
              <li><a href="/2012/4/getting-started-with-node-js.html">Getting started with node.js</a></li>
              <li><a href="/2012/0/unit-testing-and-test-driven-development-lessons-learned.html">Unit Testing and Test Driven Development (Lessons Learned)</a></li>
              <li><a href="/2011/9/unit-testing-wit-knockout-js-with-tdd.html">Unit Testing with Knockout.js</a></li>
              <li><a href="/archive.html">See more >></a></li>
            </ul>
          </div>
        </div>
      </div>
      <hr>copyright 2012 <a href="http://machadogj.com">machadogj.com</a> by <a href="http://twitter.com/machadogj">@machadogj</a><br><br>
    </div>
    <script src="/js/bootstrap.js"></script>
  </body>
</html>